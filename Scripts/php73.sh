#!/usr/bin/env sh

# enable 启用 PHP 源码包自带扩展(尚未启用)
# with   指定扩展依赖的资源库的位置，如果是默认位置，就可以留空。

./configure --prefix=${php_install_dir} \
	--with-config-file-path=${php_install_dir}/etc \
    --with-config-file-scan-dir=${php_install_dir}/etc/php.d \
    --with-fpm-user=${run_user} \
    --with-fpm-group=${run_user} \
    --enable-fpm ${phpcache_arg} \
    --disable-fileinfo \
    --enable-mysqlnd \
    --with-mysqli=mysqlnd \
    --with-pdo-mysql=mysqlnd \
    --with-iconv-dir=/usr/local \
    --with-freetype-dir \
    --with-jpeg-dir \
    --with-png-dir \
    --with-zlib \
    --with-libxml-dir=/usr \
    --enable-xml \
    --disable-rpath \
    --enable-bcmath \
    --enable-shmop \
    --enable-exif \
    --enable-sysvsem \
    --enable-inline-optimization \
    --with-curl=${curl_install_dir} \
    --enable-mbregex \
    --enable-mbstring \
    --with-password-argon2 \
    --with-sodium=/usr/local \
    --with-gd \
    --with-openssl=${openssl_install_dir} \
    --with-mhash \
    --enable-pcntl \
    --enable-sockets \
    --with-xmlrpc \
    --enable-ftp \
    --enable-intl \
    --with-xsl \
    --with-gettext \
    --enable-zip \
    --without-libzip \
    --enable-soap \
    --disable-debug $php_modules_options

./configure \
	--prefix=/usr/local/php \
	--enable-fpm \
	--enable-inline-optimization \
	--disable-debug \
	--disable-rpath \
	--enable-shared \
	--enable-opcache \
	--with-mysql \
	--with-mysqli \
	--with-mysql-sock \
	--enable-pdo \
	--with-pdo-mysql \
	--with-gettext \
	--enable-mbstring \
	--with-iconv \
	--with-mcrypt \
	--with-mhash \
	--with-openssl \
	--enable-bcmath \
	--enable-soap \
	--with-libxml-dir \
	--enable-pcntl \
	--enable-shmop \
	--enable-sysvmsg \
	--enable-sysvsem \
	--enable-sysvshm \
	--enable-sockets \
	--with-curl \
	--with-zlib \
	--enable-zip \
	--enable-bz2 \
	--with-readline \
	--without-sqlite3 \
	--without-pdo-sqlite \
	--with-pear \
	--with-libdir=/lib/x86_64-linux-gnu \
	--with-gd \
	--with-jpeg-dir=/usr/lib \
	--enable-gd-native-ttf \
	--enable-xml
